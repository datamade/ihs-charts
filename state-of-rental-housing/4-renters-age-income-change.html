---
layout: chart
---
<div class="row">
    <div class="col-xs-12">
        <h4>Numeric Change in Cook County Renter Households by Age and Income, 2007-2014</h4>
    </div>
</div>
<div class="row">
    <div class="col-xs-3">
        <div id='legend' class='xs-multiple'>
        </div>
    </div>
    <div class="col-xs-3">
        <div id='chart_0' class='xs-multiple'></div>
    </div>
    <div class="col-xs-3">
        <div id='chart_1' class='xs-multiple'></div>
    </div>
    <div class="col-xs-3">
        <div id='chart_2' class='xs-multiple'></div>
    </div>
    <div class="col-xs-3">
        <div id='chart_3' class='xs-multiple'></div>
    </div>
    <div class="col-xs-3">
        <div id='chart_4' class='xs-multiple'></div>
    </div>
    <div class="col-xs-3">
        <div id='chart_5' class='xs-multiple'></div>
    </div>
    <div class="col-xs-3">
        <div id='chart_6' class='xs-multiple'></div>
    </div>

</div>

<!-- project-specific js -->
<script type='text/javascript'>

  $(function () {

    $.when($.get('data/4-renters-age-income-change.csv')).then(
      function(data){

        [ami_data, age_grps] = ChartHelper.prep_chart_data(data, 'col', 'count');


        $.each(age_grps, function(idx_age, age){
            sliced_ami_data = []
            $.each(ami_data, function(i, ami_grp){
                s = {name: ami_grp['name'], data: [ami_grp['data'][idx_age]], color: ami_grp['color']}
                sliced_ami_data.push(s)
            });

            chart_id = '#chart_'+idx_age.toString()
            ChartHelper.make_small_chart(chart_id, sliced_ami_data, 'Ages '+age, -15000, 30000)
        })

        

      legend_html = '<p><strong>AMI</strong></p>'
      $.each(ami_data, function(i, series){
        legend_item = '<p class="legend-item"><span style="color:'+series.color+'">â–†</span> '+series.name+'</p>'
        legend_html = legend_html+legend_item
        // console.log(series)
      });


      $('#legend').html(legend_html)




    });
  });

</script>